<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><title>jdhao's blog</title><meta name=renderer content="webkit"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta http-equiv=cache-control content="no-transform"><meta http-equiv=cache-control content="no-siteapp"><meta name=theme-color content="#f8f5ec"><meta name=msapplication-navbutton-color content="#f8f5ec"><meta name=apple-mobile-web-app-capable content="yes"><meta name=apple-mobile-web-app-status-bar-style content="#f8f5ec"><meta name=author content="jdhao"><meta name=description content="A blog for the patient and curious people"><meta name=keywords content="Hugo,theme,even"><meta name=google-site-verification content="HTz0VHxqny_b0FfS774dICLBzHGBZCb_S11j_akF1Tw"><meta name=generator content="Hugo 0.75.1 with theme even"><link rel=canonical href=https://jdhao.github.io/><link href=https://jdhao.github.io/index.xml rel=alternate type=application/rss+xml title="jdhao's blog"><link href=https://jdhao.github.io/index.xml rel=feed type=application/rss+xml title="jdhao's blog"><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/manifest.json><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><script async src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script><meta name=referrer content="no-referrer-when-downgrade"><script async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script><script>(adsbygoogle=window.adsbygoogle||[]).push({google_ad_client:"ca-pub-6058871559165202",enable_page_level_ads:true});</script><link href=/sass/main.min.c7bc1becf36bcf6a9ebd25d2947e43a2eb745ddb0c9a32b43126fd7fa460c351.css rel=stylesheet><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin=anonymous><meta property="og:title" content="jdhao's blog"><meta property="og:description" content="A blog for the patient and curious people"><meta property="og:type" content="website"><meta property="og:url" content="https://jdhao.github.io/"><meta property="og:updated_time" content="2021-01-11T23:04:16+08:00"><meta itemprop=name content="jdhao's blog"><meta itemprop=description content="A blog for the patient and curious people"><meta name=twitter:card content="summary"><meta name=twitter:title content="jdhao's blog"><meta name=twitter:description content="A blog for the patient and curious people"><!--[if lte IE 9]><script src=https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js></script><![endif]--><!--[if lt IE 9]><script src=https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js></script><script src=https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js></script><![endif]--></head><body><div id=mobile-navbar class=mobile-navbar><div class=mobile-header-logo><a href=/ class=logo>jdhao's blog</a></div><div class=mobile-navbar-icon><span></span><span></span><span></span></div></div><nav id=mobile-menu class="mobile-menu slideout-menu"><ul class=mobile-menu-list><a href=/><li class=mobile-menu-item>Home</li></a><a href=/post/><li class=mobile-menu-item>Archives</li></a><a href=/tags/><li class=mobile-menu-item>Tags</li></a><a href=/categories/><li class=mobile-menu-item>Categories</li></a><a href=/about/><li class=mobile-menu-item>About</li></a></ul></nav><div class=container id=mobile-panel><header id=header class=header><div class=logo-wrapper><a href=/ class=logo>jdhao's blog</a></div><nav class=site-navbar><ul id=menu class=menu><li class=menu-item><a class=menu-item-link href=/>Home</a></li><li class=menu-item><a class=menu-item-link href=/post/>Archives</a></li><li class=menu-item><a class=menu-item-link href=/tags/>Tags</a></li><li class=menu-item><a class=menu-item-link href=/categories/>Categories</a></li><li class=menu-item><a class=menu-item-link href=/about/>About</a></li></ul></nav></header><main id=main class=main><div class=content-wrapper><div id=content class=content><section id=posts class=posts><article class=post><header class=post-header><h1 class=post-title><a class=post-link href=/2021/01/10/fuck_gfw_forever/>Cross the Wall</a></h1><div class=post-meta><span class=post-time>2021-01-10</span><div class=post-category><a href=/categories/Note/>Note</a></div><span class=more-meta>372 words</span>
<span class=more-meta>2 mins read</span></div></header><div class=post-content><div class=post-summary><p>To cross the fucking firewall, we need some handy tools.</p></div><div class=read-more><a href=/2021/01/10/fuck_gfw_forever/ class=read-more-link>Read more...</a></div></div></article><article class=post><header class=post-header><h1 class=post-title><a class=post-link href=/2021/01/08/github_access_issue_in_china/>解决 GitHub 资源无法下载的问题</a></h1><div class=post-meta><span class=post-time>2021-01-08</span><div class=post-category><a href=/categories/Note/>Note</a></div><span class=more-meta>396 words</span>
<span class=more-meta>1 min read</span></div></header><div class=post-content><div class=post-summary><p>GitHub 虽然没被封，但是阻断严重，下载 GitHub 资源速度奇慢无比，总结一些验证可行的方法。</p></div><div class=read-more><a href=/2021/01/08/github_access_issue_in_china/ class=read-more-link>Read more...</a></div></div></article><article class=post><header class=post-header><h1 class=post-title><a class=post-link href=/2021/01/07/nifty_nvim_techniques_s9/>Nifty Nvim/Vim Techniques That Make My Life Easier -- Series 9</a></h1><div class=post-meta><span class=post-time>2021-01-07</span><div class=post-category><a href=/categories/Nvim/>Nvim</a></div><span class=more-meta>677 words</span>
<span class=more-meta>2 mins read</span></div></header><div class=post-content><div class=post-summary><p>This post continues my <a href=https://jdhao.github.io/2020/11/11/nifty_nvim_techniques_s8/>previous post</a>
on nifty Nvim/Vim techniques.</p></div><div class=read-more><a href=/2021/01/07/nifty_nvim_techniques_s9/ class=read-more-link>Read more...</a></div></div></article><article class=post><header class=post-header><h1 class=post-title><a class=post-link href=/2021/01/05/nvim_copy_from_remote_via_osc52/>Copy from Remote Server to Local Clipboard via OSC 52 in Neovim</a></h1><div class=post-meta><span class=post-time>2021-01-05</span><div class=post-category><a href=/categories/Nvim/>Nvim</a></div><span class=more-meta>264 words</span>
<span class=more-meta>2 mins read</span></div></header><div class=post-content><div class=post-summary><p>In my daily work, I usually log into a remote server via a terminal emulator
and do my development work there. Sometimes, I need to copy text from remote
server to my local machine&rsquo;s clipboard. Previously, I use mouse to select and
copy the text, which I find to be quite cumbersome.</p></div><div class=read-more><a href=/2021/01/05/nvim_copy_from_remote_via_osc52/ class=read-more-link>Read more...</a></div></div></article><article class=post><header class=post-header><h1 class=post-title><a class=post-link href=/2020/12/29/python_concurrent_futures/>Concurrent.futures in Python</a></h1><div class=post-meta><span class=post-time>2020-12-29</span><div class=post-category><a href=/categories/Python/>Python</a></div><span class=more-meta>361 words</span>
<span class=more-meta>2 mins read</span></div></header><div class=post-content><div class=post-summary>executor.map() or executor.submit() There are mainly two different ways to use executor for parallel computing, the first is via executor.map(), and the second way is via executor.submit() combined with concurrent.futures.as_completed().
Here is a simple example to demonstrate this:
import time from contextlib import contextmanager from concurrent.futures import ThreadPoolExecutor import concurrent.futures @contextmanager def report_time(des): start = time.time() yield end = time.time() print(f"Time for {des}: {end-start}") def square(x): time.sleep(0.5) return x*x def main(): num = 10 with report_time("using executor.</div><div class=read-more><a href=/2020/12/29/python_concurrent_futures/ class=read-more-link>Read more...</a></div></div></article><article class=post><header class=post-header><h1 class=post-title><a class=post-link href=/2020/12/25/git_directory_work-tree_explained/>Git Directory and Work-Tree Explained</a></h1><div class=post-meta><span class=post-time>2020-12-25</span><div class=post-category><a href=/categories/tools/>tools</a></div><span class=more-meta>405 words</span>
<span class=more-meta>2 mins read</span></div></header><div class=post-content><div class=post-summary><p>Git has two option <code>--git-dir</code> and <code>--work-tree</code>. What is the use for them?</p></div><div class=read-more><a href=/2020/12/25/git_directory_work-tree_explained/ class=read-more-link>Read more...</a></div></div></article><article class=post><header class=post-header><h1 class=post-title><a class=post-link href=/2020/12/22/linux_command_cheat_sheet_s3/>Linux Tips and Tricks -- s3</a></h1><div class=post-meta><span class=post-time>2020-12-22</span>
<span class=more-meta>466 words</span>
<span class=more-meta>3 mins read</span></div></header><div class=post-content><div class=post-summary>Calculate the stat of a column of numbers Suppose we have a file where each line a number, and we want to the get stat of these numbers on the command line.
Use python If Python is installed in the system, we can use the following command:
cat data.log | python3 -c "import fileinput as FI,statistics as STAT; i = [float(l.strip()) for l in FI.input()]; print('min:', min(i), ' max: ', max(i), ' avg: ', STAT.</div><div class=read-more><a href=/2020/12/22/linux_command_cheat_sheet_s3/ class=read-more-link>Read more...</a></div></div></article><article class=post><header class=post-header><h1 class=post-title><a class=post-link href=/2020/12/18/my_first_vim_plugin/>Introducing My First Vim/Neovim Plugin</a></h1><div class=post-meta><span class=post-time>2020-12-18</span><div class=post-category><a href=/categories/Nvim/>Nvim</a></div><span class=more-meta>306 words</span>
<span class=more-meta>2 mins read</span></div></header><div class=post-content><div class=post-summary><p>After using and learning Neovim for over 2 years, I have finally published my
first plugin &ndash; better-escape.vim.</p></div><div class=read-more><a href=/2020/12/18/my_first_vim_plugin/ class=read-more-link>Read more...</a></div></div></article><article class=post><header class=post-header><h1 class=post-title><a class=post-link href=/2020/12/12/build_opencv_project_with_cmake/>Build C++ Project with CMake -- A Simple Example</a></h1><div class=post-meta><span class=post-time>2020-12-12</span><div class=post-category><a href=/categories/Programming/>Programming</a></div><span class=more-meta>537 words</span>
<span class=more-meta>3 mins read</span></div></header><div class=post-content><div class=post-summary><p>For small projects, people tend to directly invoke the compiler with the
suitable options to build the program. While it is feasible, it is tedious to
type those compilation options and flags. For projects with multiple source
files and header files, it becomes inefficient to build by hand. On Linux,
people may write <a href=http://web.mit.edu/gnu/doc/html/make_2.html>Makefile</a> and
build with <a href=https://www.gnu.org/software/make/>make</a>. On Windows, people may
use Visual Studio for writing and build their project.</p></div><div class=read-more><a href=/2020/12/12/build_opencv_project_with_cmake/ class=read-more-link>Read more...</a></div></div></article><article class=post><header class=post-header><h1 class=post-title><a class=post-link href=/2020/12/10/gcc_library_link_issue/>Why Do Some Libraries Are Linked by Default, but Some Are Not by GCC?</a></h1><div class=post-meta><span class=post-time>2020-12-10</span><div class=post-category><a href=/categories/Programming/>Programming</a></div><span class=more-meta>518 words</span>
<span class=more-meta>3 mins read</span></div></header><div class=post-content><div class=post-summary><p>Different behavior of linking between Clang and GCC.</p></div><div class=read-more><a href=/2020/12/10/gcc_library_link_issue/ class=read-more-link>Read more...</a></div></div></article><article class=post><header class=post-header><h1 class=post-title><a class=post-link href=/2020/12/07/build_opencv_cpp_library_linux/>Building OpenCV from Source on Linux</a></h1><div class=post-meta><span class=post-time>2020-12-07</span><div class=post-category><a href=/categories/Linux/>Linux</a></div><span class=more-meta>446 words</span>
<span class=more-meta>3 mins read</span></div></header><div class=post-content><div class=post-summary><p>In this post, I will summarize how to build OpenCV from source, and introduce
how to use it when writing C++ programs.</p></div><div class=read-more><a href=/2020/12/07/build_opencv_cpp_library_linux/ class=read-more-link>Read more...</a></div></div></article><article class=post><header class=post-header><h1 class=post-title><a class=post-link href=/2020/12/04/pinyin_initials_of_chinese_char/>Get Pinyin Initials of Chinese characters</a></h1><div class=post-meta><span class=post-time>2020-12-04</span><div class=post-category><a href=/categories/Note/>Note</a></div><span class=more-meta>111 words</span>
<span class=more-meta>1 min read</span></div></header><div class=post-content><div class=post-summary><p>To get a reasonably large collection of traditional and simplified Chinese
characters in use toady, we may use <a href=https://zhon.readthedocs.io/en/latest/>zhon</a>:</p></div><div class=read-more><a href=/2020/12/04/pinyin_initials_of_chinese_char/ class=read-more-link>Read more...</a></div></div></article><article class=post><header class=post-header><h1 class=post-title><a class=post-link href=/2020/11/29/neovim_cpp_dev_setup/>Setting up Neovim for C++ Development with LSP</a></h1><div class=post-meta><span class=post-time>2020-11-29</span><div class=post-category><a href=/categories/Nvim/>Nvim</a></div><span class=more-meta>1088 words</span>
<span class=more-meta>6 mins read</span></div></header><div class=post-content><div class=post-summary><p>In this post, I am going to give a summary on how to set up Neovim for writing
simple C++ programs.</p></div><div class=read-more><a href=/2020/11/29/neovim_cpp_dev_setup/ class=read-more-link>Read more...</a></div></div></article><article class=post><header class=post-header><h1 class=post-title><a class=post-link href=/2020/11/23/neovim_better_mapping_for_leaving_insert_mode/>A Better Mapping to Leave Insert Mode than jk</a></h1><div class=post-meta><span class=post-time>2020-11-23</span><div class=post-category><a href=/categories/Nvim/>Nvim</a></div><span class=more-meta>684 words</span>
<span class=more-meta>2 mins read</span></div></header><div class=post-content><div class=post-summary><p>A <a href=https://vi.stackexchange.com/q/300/15292>very popular insert mode mapping</a>
for Neovim/Vim is to map <code>jk</code> or <code>kj</code> or <code>jj</code> to <code>&lt;ESC></code> for quicker escaping
from the insert mode. I have used the following mapping for quite some time:</p><div class=highlight><pre class=chroma><code class=language-vim data-lang=vim><span class=nx>inoremap</span> <span class=nx>jk</span> <span class=p>&lt;</span><span class=nx>ESC</span><span class=p>&gt;</span><span class=err>
</span></code></pre></div></div><div class=read-more><a href=/2020/11/23/neovim_better_mapping_for_leaving_insert_mode/ class=read-more-link>Read more...</a></div></div></article><article class=post><header class=post-header><h1 class=post-title><a class=post-link href=/2020/11/22/python_list_of_empty_list_pitfall/>Creating List of Empty List in Python</a></h1><div class=post-meta><span class=post-time>2020-11-22</span><div class=post-category><a href=/categories/Python/>Python</a></div><span class=more-meta>265 words</span>
<span class=more-meta>2 mins read</span></div></header><div class=post-content><div class=post-summary><p>I wrote some code for my project and found that the result isn&rsquo;t correct. So I
spent quite some time debugging the whole working process this program and
found that it is because I have initialized a list wrongly.</p></div><div class=read-more><a href=/2020/11/22/python_list_of_empty_list_pitfall/ class=read-more-link>Read more...</a></div></div></article><article class=post><header class=post-header><h1 class=post-title><a class=post-link href=/2020/11/20/chinese_text_seg_tools/>几种中文分词工具对比</a></h1><div class=post-meta><span class=post-time>2020-11-20</span><div class=post-category><a href=/categories/Note/>Note</a></div><span class=more-meta>538 words</span>
<span class=more-meta>2 mins read</span></div></header><div class=post-content><div class=post-summary><p>对几种中文分词工具进行了调研，简单总结一下。</p></div><div class=read-more><a href=/2020/11/20/chinese_text_seg_tools/ class=read-more-link>Read more...</a></div></div></article><article class=post><header class=post-header><h1 class=post-title><a class=post-link href=/2020/11/18/pillow_image_resize_pitfall/>Pillow/PIL 缩放索引图像时的一个问题</a></h1><div class=post-meta><span class=post-time>2020-11-18</span><div class=post-category><a href=/categories/Python/>Python</a></div><span class=more-meta>1287 words</span>
<span class=more-meta>3 mins read</span></div></header><div class=post-content><div class=post-summary><p>今天遇到了<a href=https://www.v2ex.com/t/726518>一个有趣的问题</a>，有人在 v2ex 上说自己的图片，经过 <a href=https://python-pillow.org/>PIL</a> 缩放到 800x600 以后，非常模糊，有什么办法可以解决。</p></div><div class=read-more><a href=/2020/11/18/pillow_image_resize_pitfall/ class=read-more-link>Read more...</a></div></div></article><article class=post><header class=post-header><h1 class=post-title><a class=post-link href=/2020/11/16/vim_lsp_fuzzy_completion/>Set up Fuzzy Completion for Vim-lsp</a></h1><div class=post-meta><span class=post-time>2020-11-16</span><div class=post-category><a href=/categories/Nvim/>Nvim</a></div><span class=more-meta>240 words</span>
<span class=more-meta>2 mins read</span></div></header><div class=post-content><div class=post-summary><p>In my <a href=https://jdhao.github.io/2020/11/04/replace_deoplete_jedi_for_LSP/>older post</a>, I have shared how to set up
auto-completion for vim-lsp with the help of deoplete. One annoyance is that I
can not use fuzzy matching for auto-completion: the completion items in the
pop-up completion menu seems to be selected base on prefix matching.</p></div><div class=read-more><a href=/2020/11/16/vim_lsp_fuzzy_completion/ class=read-more-link>Read more...</a></div></div></article><article class=post><header class=post-header><h1 class=post-title><a class=post-link href=/2020/11/15/nvim_text_objects/>How Do I Create New Text Objects in Neovim/Vim</a></h1><div class=post-meta><span class=post-time>2020-11-15</span><div class=post-category><a href=/categories/Nvim/>Nvim</a></div><span class=more-meta>1183 words</span>
<span class=more-meta>6 mins read</span></div></header><div class=post-content><div class=post-summary><p>Shortly after I started using <a href=https://github.com/neovim/neovim>Neovim</a>, I
learned about the concept of <a href=https://neovim.io/doc/user/motion.html#text-objects>text objects</a>.
For example, when the cursor is inside a pair of <code>[]</code>, we can use <code>ci]</code> to
change text inside them. This is definitely one of the greatest moments on my
road of learning Vim. However, I haven&rsquo;t really thought about how does text
object really work.</p></div><div class=read-more><a href=/2020/11/15/nvim_text_objects/ class=read-more-link>Read more...</a></div></div></article><article class=post><header class=post-header><h1 class=post-title><a class=post-link href=/2020/11/11/nifty_nvim_techniques_s8/>Nifty Nvim/Vim Techniques That Make My Life Easier -- Series 8</a></h1><div class=post-meta><span class=post-time>2020-11-11</span><div class=post-category><a href=/categories/Nvim/>Nvim</a></div><span class=more-meta>514 words</span>
<span class=more-meta>3 mins read</span></div></header><div class=post-content><div class=post-summary><p>This post continues my <a href=https://jdhao.github.io/2020/09/22/nifty_nvim_techniques_s7/>previous post</a>
on nifty Nvim/Vim techniques.</p></div><div class=read-more><a href=/2020/11/11/nifty_nvim_techniques_s8/ class=read-more-link>Read more...</a></div></div></article></section><nav class=pagination><a class=next href=/page/2/><span class=next-text>Next</span>
<i class="iconfont icon-right"></i></a></nav></div></div></main><footer id=footer class=footer><div class=social-links><a href="https://stackoverflow.com/users/6064933/jdhao?tab=profile" class="iconfont icon-stack-overflow" title=stack-overflow></a><a href=https://github.com/jdhao class="iconfont icon-github" title=github></a><a href=https://jdhao.github.io/index.xml type=application/rss+xml class="iconfont icon-rss" title=rss></a></div><div class=copyright><span class=power-by>Powered by <a class=hexo-link href=https://gohugo.io>Hugo</a></span>
<span class=division>|</span>
<span class=theme-info>Theme -
<a class=theme-link href=https://github.com/olOwOlo/hugo-theme-even>Even</a></span><div class=busuanzi-footer><span id=busuanzi_container_site_pv>site pv: <span id=busuanzi_value_site_pv><img src=/img/spinner.svg alt=spinner.svg></span></span>
<span class=division>|</span>
<span id=busuanzi_container_site_uv>site uv: <span id=busuanzi_value_site_uv><img src=/img/spinner.svg alt=spinner.svg></span></span></div><span class=copyright-year>&copy;
2017 -
2021<span class=heart><i class="iconfont icon-heart"></i></span><span>jdhao</span></span></div></footer><div class=back-to-top id=back-to-top><i class="iconfont icon-up"></i></div></div><script src=https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin=anonymous></script><script type=text/javascript src=/js/main.min.c12618f9a600c40bd024996677e951e64d3487006775aeb22e200c990006c5c7.js></script><script type=text/javascript>window.MathJax={tex:{inlineMath:[['$','$'],['\\(','\\)']],tags:'ams',}};</script><script async src=https://cdn.jsdelivr.net/npm/mathjax@3.0.5/es5/tex-mml-chtml.js integrity="sha256-HGLuEfFcsUJGhvB8cQ8nr0gai9EucOOaIxFw7qxmd+w=" crossorigin=anonymous></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-113395108-1','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script id=baidu_push>(function(){if(window.location.hostname==='localhost')return;var bp=document.createElement('script');bp.async=true;var curProtocol=window.location.protocol.split(':')[0];if(curProtocol==='https'){bp.src='https://zz.bdstatic.com/linksubmit/push.js';}
else{bp.src='http://push.zhanzhang.baidu.com/push.js';}
var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(bp,s);})();</script></body></html>